{"version":3,"sources":["ducks/items/consts.js","ducks/stories/consts.js","ducks/stories/reducer.js","ducks/index.js","ducks/items/reducer.js","components/header/Header.js","api/HackerService.js","ducks/items/actions.js","components/story/StoryIcon.js","components/story/StoryTitle.js","components/story/details/StoryScore.js","components/story/details/StoryAuthor.js","components/story/details/StoryTime.js","components/story/details/StoryComments.js","components/story/details/StoryDetails.js","components/story/StoryItem.js","ducks/storeSelectors.js","components/story/Stories.js","ducks/stories/actions.js","components/Stub.js","components/Content.js","App.js","index.js"],"names":["ITEM_LOADED","ITEM_REMOVE","STORIES_LOADING","STORIES_LOADED","STORIES_CLEAR","STORIES_NEXT_PAGE","initialState","ids","loading","currentPage","rootReducer","combineReducers","stories","state","arguments","length","undefined","action","type","Object","objectSpread","payload","items","defineProperty","id","toString","objectWithoutProperties","HeaderComponent","_React$PureComponent","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","value","react","Link","to","React","API_PREFIX","fetchApi","suffix","fetch","concat","then","res","json","StoryIcon","_ref","url","title","children","src","alt","className","StoryTitle","StoryScore","score","StoryAuthor","by","StoryTime","time","humanizeDuration","Date","now","round","largest","StoryComments","commentsCount","descendants","StoryDetails","props","StoryScore_StoryScore","StoryAuthor_StoryAuthor","StoryTime_StoryTime","StoryComments_StoryComments","StoryItemComponent","loadItem","item","href","target","rel","StoryIcon_StoryIcon","StoryTitle_StoryTitle","StoryDetails_StoryDetails","removeItem","mapDispatchToProps","dispatch","itemLoading","fetchItem","itemLoaded","StoryItem","connect","selectStories","selectStoriesIds","selectStoriesCurrentPage","selectStoriesPageIds","createSelector","page","slice","selectCurrentPageStartIndex","selectNextPageEnabled","StoriesComponent","loadStories","window","scrollTo","_this","map","s","i","storyIndex","startIndex","nextPageEnabled","onClick","nextPage","clearStories","storiesLoaded","Stories","areStoriesLoading","selectStoriesIdsOnCurrentPage","moreEnabled","StubComponent","ContentComponent","BrowserRouter","basename","process","Header_HeaderComponent","Switch","Redirect","exact","path","Route","component","App","react_default","a","createElement","Content_ContentComponent","Component","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.b34dafb2.chunk.js","sourcesContent":["export const ITEM_LOADING = \"items/LOADING\";\nexport const ITEM_LOADED = \"items/LOADED\";\nexport const ITEM_REMOVE = \"items/REMOVE\";\n","export const STORIES_LOADING = \"stories/LOADING\";\nexport const STORIES_LOADED = \"stories/LOADED\";\nexport const STORIES_CLEAR = \"stories/CLEAR\";\nexport const STORIES_NEXT_PAGE = \"stories/NEXT_PAGE\";","import { STORIES_LOADING, STORIES_LOADED, STORIES_NEXT_PAGE, STORIES_CLEAR } from \"./consts\";\n\nconst initialState = {\n    ids: [],\n    loading: false,\n    currentPage: 0,\n};\n\nexport function storiesReducer(state = initialState, action) {\n    switch (action.type) {\n        case STORIES_LOADING:\n            return {...state, loading: true};\n        case STORIES_LOADED:\n            return {...state, ids: action.payload, loading: false, currentPage: 0};\n        case STORIES_NEXT_PAGE:\n            return {...state, currentPage: state.currentPage + 1};\n        case STORIES_CLEAR:\n            return {...state, ids: [], loading: false, currentPage: 0};\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from \"redux\";\nimport { itemsReducer } from \"./items/reducer\";\nimport { storiesReducer } from \"./stories/reducer\";\n\nexport const rootReducer = combineReducers({\n    stories: storiesReducer,\n    items: itemsReducer,\n});","import { ITEM_LOADED, ITEM_REMOVE } from \"./consts\";\n\nexport function itemsReducer(state = {}, action) {\n    const {type, payload} = action;\n    switch (type) {\n        case ITEM_LOADED:\n            return {...state, [ action.payload.id ]: action.payload};\n        case ITEM_REMOVE:\n            const {[ payload.toString() ]: toClear, ...newState} = state;\n            return newState;\n        default:\n            return state;\n    }\n}\n","import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.css\";\n\nexport class HeaderComponent extends React.PureComponent {\n    render() {\n        return (\n            <header>\n                <nav>\n                    <Link to=\"/top\">Top</Link>\n                    <Link to=\"/best\">Best</Link>\n                    <Link to=\"/comments\">Comments</Link>\n                </nav>\n            </header>\n        );\n    }\n}\n","const API_PREFIX = \"https://hacker-news.firebaseio.com/v0/\";\n\nexport function fetchApi(suffix) {\n    return fetch(`${API_PREFIX}${suffix}.json?print=pretty`)\n        .then(res => res.json());\n}\n\nexport function fetchTopStories() {\n    return fetchApi(\"topstories\");\n}\n\nexport function fetchItem(id) {\n    return fetchApi(`item/${id}`);\n}\n","import { ITEM_LOADING, ITEM_LOADED, ITEM_REMOVE } from \"./consts\";\nimport { fetchItem } from \"../../api/HackerService\";\n\nexport const itemLoading = id => ({\n    type: ITEM_LOADING,\n    payload: id,\n});\n\nexport const removeItem = id => ({\n    type: ITEM_REMOVE,\n    payload: id,\n});\n\nexport const itemLoaded = item => ({\n    type: ITEM_LOADED,\n    payload: item,\n});\n\nexport const loadItem = id => dispatch => {\n    dispatch(itemLoading(id));\n    fetchItem(id)\n        .then(item => dispatch(itemLoaded(item)));\n};\n","import * as React from \"react\";\n\nexport const StoryIcon = ({url, title, children}) => (\n    <>\n        <img src={`http://s2.googleusercontent.com/s2/favicons?domain_url=${url}`}\n             alt={title}\n             className=\"storyIcon\" />\n        {children}\n    </>\n);\n","import * as React from \"react\";\n\nexport const StoryTitle = ({title}) => (<p className=\"storyTitle\">{title}</p>);\n","import * as React from \"react\";\n\nexport const StoryScore = ({score}) => <span>{score} points</span>;\n","import * as React from \"react\";\n\nexport const StoryAuthor = ({by}) => (\n    <span>by {by}</span>\n);\n","import * as React from \"react\";\nimport humanizeDuration from \"humanize-duration\";\n\nexport const StoryTime = ({time}) => (\n    <span>{humanizeDuration(Date.now() - time * 1000, {round: true, largest: 1})} ago</span>\n);\n","import * as React from \"react\";\n\nconst getComment = (commentsCount) => {\n    if (commentsCount > 1) {\n        return `${commentsCount} comments`\n    }\n    if (commentsCount === 1) {\n        return \"1 comment\"\n    }\n    return \"discuss\";\n};\n\nexport const StoryComments = ({descendants}) => (\n    <span>{getComment(descendants)}</span>\n);\n","import * as React from \"react\";\nimport { StoryScore } from \"./StoryScore\";\nimport { StoryAuthor } from \"./StoryAuthor\";\nimport { StoryTime } from \"./StoryTime\";\nimport { StoryComments } from \"./StoryComments\";\n\nexport const StoryDetails = props => (\n    <p className=\"storyDetails\">\n        <StoryScore {...props} />\n        {\" | \"}\n        <StoryAuthor {...props} />\n        {\" | \"}\n        <StoryTime {...props} />\n        {\" | \"}\n        <StoryComments {...props} />\n    </p>\n);\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { loadItem, removeItem } from \"../../ducks/items/actions\";\nimport { StoryIcon } from \"./StoryIcon\";\nimport { StoryTitle } from \"./StoryTitle\"\nimport { StoryDetails } from \"./details/StoryDetails\"\n\nexport class StoryItemComponent extends React.PureComponent {\n    componentDidMount() {\n        this.props.loadItem(this.props.id);\n    }\n\n    render() {\n        if (!this.props.item) {\n            return <div>Loading...</div>;\n        }\n        // todo - use storyIndex from props\n        const {item} = this.props;\n        const {title, url} = item;\n        return (\n            <a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"storyLink\">\n                <StoryIcon url={url} title={title}>\n                    <StoryTitle title={title} />\n                    <StoryDetails {...this.props.item} />\n                </StoryIcon>\n            </a>\n        );\n    }\n\n    componentWillUnmount() {\n        this.props.removeItem(this.props.id);\n    }\n}\n\nconst mapStateToProps = (state, props) => ({\n    item: state.items[ props.id ] ? state.items[ props.id ] : undefined,\n});\n\nconst mapDispatchToProps = {\n    loadItem,\n    removeItem,\n};\n\nexport const StoryItem = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(StoryItemComponent);\n","import { createSelector } from \"reselect\";\n\nconst MAX_STORIES_PER_PAGE = 25;\n\nconst selectStories = state => state.stories;\nconst selectStoriesIds = state => selectStories(state).ids;\n\nexport const areStoriesLoading = state => selectStories(state).loading;\nexport const selectStoriesCurrentPage = state => selectStories(state).currentPage;\n\nexport const selectStoriesPageIds = createSelector(\n    selectStoriesIds,\n    selectStoriesCurrentPage,\n    (ids, page) => ids.slice(page * MAX_STORIES_PER_PAGE, (page + 1) * MAX_STORIES_PER_PAGE),\n);\n\nexport const selectStoriesIdsOnCurrentPage = state => selectStoriesPageIds(state, selectStoriesCurrentPage(state));\nexport const selectCurrentPageStartIndex = state => selectStoriesCurrentPage(state) * MAX_STORIES_PER_PAGE;\nexport const selectNextPageEnabled = state => selectStoriesIds(state).length > selectCurrentPageStartIndex(state) + MAX_STORIES_PER_PAGE\n","import * as React from \"react\";\nimport { StoryItem } from \"./StoryItem\";\nimport { connect } from \"react-redux\";\nimport {\n    loadStories,\n    nextPage,\n    clearStories,\n} from \"../../ducks/stories/actions\";\nimport {\n    selectStoriesIdsOnCurrentPage,\n    areStoriesLoading,\n    selectNextPageEnabled,\n    selectStoriesCurrentPage,\n    selectCurrentPageStartIndex,\n} from \"../../ducks/storeSelectors\";\n\nimport \"./Stories.css\";\n\nexport class StoriesComponent extends React.PureComponent {\n    componentDidMount() {\n        this.props.loadStories();\n    }\n\n    componentWillReceiveProps({currentPage}) {\n        if (currentPage !== this.props.currentPage) {\n            window.scrollTo(0, 0);\n        }\n    }\n\n    render() {\n        return this.props.loading || !this.props.stories ? (\n            \"...loading\"\n        ) : (\n            <div className=\"stories\">\n                <ol>\n                    {this.props.stories.map((s, i) => (\n                        <li key={s} className=\"story\">\n                            <StoryItem id={s} storyIndex={this.props.startIndex + i + 1} />\n                        </li>\n                    ))}\n                </ol>\n                {this.props.nextPageEnabled &&\n                <div className=\"nextPage\" onClick={this.props.nextPage}><span>More</span></div>}\n            </div>\n        );\n    }\n\n    componentWillUnmount() {\n        this.props.clearStories();\n    }\n}\n\nconst mapStateToProps = state => ({\n    loading: areStoriesLoading(state),\n    stories: selectStoriesIdsOnCurrentPage(state),\n    moreEnabled: selectNextPageEnabled(state),\n    currentPage: selectStoriesCurrentPage(state),\n    startIndex: selectCurrentPageStartIndex(state),\n    nextPageEnabled: selectNextPageEnabled(state),\n});\n\nconst mapDispatchToProps = {\n    loadStories: loadStories,\n    nextPage: nextPage,\n    clearStories: clearStories,\n};\n\nexport const Stories = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(StoriesComponent);\n","import { STORIES_LOADING, STORIES_LOADED, STORIES_NEXT_PAGE, STORIES_CLEAR } from \"./consts\";\nimport { fetchTopStories } from \"../../api/HackerService\";\n\nexport const storiesLoading = () => ({\n    type: STORIES_LOADING,\n});\n\nexport const storiesLoaded = stories => ({\n    type: STORIES_LOADED,\n    payload: stories,\n});\n\nexport const nextPage = () => ({\n    type: STORIES_NEXT_PAGE,\n});\n\nexport const clearStories = () => ({\n    type: STORIES_CLEAR,\n});\n\nexport const loadStories = () => dispatch => {\n    dispatch(storiesLoading());\n    fetchTopStories()\n        .then(stories => dispatch(storiesLoaded(stories)));\n};\n","import * as React from \"react\";\nimport \"./Stub.css\";\n\nexport const StubComponent = () => <div className=\"stub\">to be added</div>;\n","import * as React from \"react\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport { HeaderComponent } from \"./header/Header\";\nimport { Stories } from \"./story/Stories\";\nimport { StubComponent } from \"./Stub\";\n\nexport class ContentComponent extends React.PureComponent {\n    render() {\n        return (\n            <BrowserRouter basename={`${process.env.PUBLIC_URL}/#`}>\n                <>\n                    <HeaderComponent />\n                    <Switch>\n                        <Redirect exact path={`${process.env.PUBLIC_URL}/`} to=\"/top\" />\n                        <Route path=\"/top\" component={Stories} />\n                        <Route component={StubComponent} />\n                    </Switch>\n                </>\n            </BrowserRouter>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { ContentComponent } from \"./components/Content\";\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"app\">\n                <ContentComponent />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport \"./index.css\";\nimport { rootReducer } from \"./ducks\";\nimport App from \"./App\";\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}