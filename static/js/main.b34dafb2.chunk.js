(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(50)},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(20),c=n.n(o),i=n(10),u=n(13),s=n(23),l=n(24),p=(n(39),n(27)),m=n(14),d=n(12),f="items/LOADED",b="items/REMOVE";var h="stories/LOADING",E="stories/LOADED",y="stories/CLEAR",O="stories/NEXT_PAGE",g={ids:[],loading:!1,currentPage:0};var j=Object(i.combineReducers)({stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(d.a)({},e,{loading:!0});case E:return Object(d.a)({},e,{ids:t.payload,loading:!1,currentPage:0});case O:return Object(d.a)({},e,{currentPage:e.currentPage+1});case y:return Object(d.a)({},e,{ids:[],loading:!1,currentPage:0});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case f:return Object(d.a)({},e,Object(m.a)({},t.payload.id,t.payload));case b:return e[r.toString()],Object(p.a)(e,[r.toString()]);default:return e}}}),v=n(5),P=n(6),k=n(8),w=n(7),N=n(9),D=(n(41),n(52)),I=n(54),x=n(53),C=n(55),L=n(51),S=(n(43),function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.createElement("header",null,r.createElement("nav",null,r.createElement(L.a,{to:"/top"},"Top"),r.createElement(L.a,{to:"/best"},"Best"),r.createElement(L.a,{to:"/comments"},"Comments")))}}]),t}(r.PureComponent)),A="https://hacker-news.firebaseio.com/v0/";function M(e){return fetch("".concat(A).concat(e,".json?print=pretty")).then(function(e){return e.json()})}var T=function(e){var t=e.url,n=e.title,a=e.children;return r.createElement(r.Fragment,null,r.createElement("img",{src:"http://s2.googleusercontent.com/s2/favicons?domain_url=".concat(t),alt:n,className:"storyIcon"}),a)},R=function(e){var t=e.title;return r.createElement("p",{className:"storyTitle"},t)},W=function(e){var t=e.score;return r.createElement("span",null,t," points")},G=function(e){var t=e.by;return r.createElement("span",null,"by ",t)},_=n(25),B=n.n(_),F=function(e){var t=e.time;return r.createElement("span",null,B()(Date.now()-1e3*t,{round:!0,largest:1})," ago")},J=function(e){var t,n=e.descendants;return r.createElement("span",null,(t=n)>1?"".concat(t," comments"):1===t?"1 comment":"discuss")},U=function(e){return r.createElement("p",{className:"storyDetails"},r.createElement(W,e)," | ",r.createElement(G,e)," | ",r.createElement(F,e)," | ",r.createElement(J,e))},V=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.props.loadItem(this.props.id)}},{key:"render",value:function(){if(!this.props.item)return r.createElement("div",null,"Loading...");var e=this.props.item,t=e.title,n=e.url;return r.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"storyLink"},r.createElement(T,{url:n,title:t},r.createElement(R,{title:t}),r.createElement(U,this.props.item)))}},{key:"componentWillUnmount",value:function(){this.props.removeItem(this.props.id)}}]),t}(r.PureComponent),X={loadItem:function(e){return function(t){t(function(e){return{type:"items/LOADING",payload:e}}(e)),function(e){return M("item/".concat(e))}(e).then(function(e){return t(function(e){return{type:f,payload:e}}(e))})}},removeItem:function(e){return{type:b,payload:e}}},q=Object(u.b)(function(e,t){return{item:e.items[t.id]?e.items[t.id]:void 0}},X)(V),z=n(26),H=function(e){return e.stories},K=function(e){return H(e).ids},Q=function(e){return H(e).currentPage},Y=Object(z.a)(K,Q,function(e,t){return e.slice(25*t,25*(t+1))}),Z=function(e){return 25*Q(e)},$=function(e){return K(e).length>Z(e)+25},ee=(n(45),function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.props.loadStories()}},{key:"componentWillReceiveProps",value:function(e){e.currentPage!==this.props.currentPage&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this;return this.props.loading||!this.props.stories?"...loading":r.createElement("div",{className:"stories"},r.createElement("ol",null,this.props.stories.map(function(t,n){return r.createElement("li",{key:t,className:"story"},r.createElement(q,{id:t,storyIndex:e.props.startIndex+n+1}))})),this.props.nextPageEnabled&&r.createElement("div",{className:"nextPage",onClick:this.props.nextPage},r.createElement("span",null,"More")))}},{key:"componentWillUnmount",value:function(){this.props.clearStories()}}]),t}(r.PureComponent)),te={loadStories:function(){return function(e){e({type:h}),M("topstories").then(function(t){return e(function(e){return{type:E,payload:e}}(t))})}},nextPage:function(){return{type:O}},clearStories:function(){return{type:y}}},ne=Object(u.b)(function(e){return{loading:function(e){return H(e).loading}(e),stories:function(e){return Y(e,Q(e))}(e),moreEnabled:$(e),currentPage:Q(e),startIndex:Z(e),nextPageEnabled:$(e)}},te)(ee),re=(n(47),function(){return r.createElement("div",{className:"stub"},"to be added")}),ae=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.createElement(D.a,{basename:"".concat("/playground-hacker-news","/#")},r.createElement(r.Fragment,null,r.createElement(S,null),r.createElement(I.a,null,r.createElement(x.a,{exact:!0,path:"".concat("/playground-hacker-news","/"),to:"/top"}),r.createElement(C.a,{path:"/top",component:ne}),r.createElement(C.a,{component:re}))))}}]),t}(r.PureComponent),oe=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement(ae,null))}}]),t}(r.Component),ce=Object(i.createStore)(j,Object(l.composeWithDevTools)(Object(i.applyMiddleware)(s.a)));c.a.render(a.a.createElement(u.a,{store:ce},a.a.createElement(oe,null)),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.b34dafb2.chunk.js.map